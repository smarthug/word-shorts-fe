# ì´ë¯¸ì§€ ìƒì„± íŒŒì´í”„ë¼ì¸ v4

## ğŸ“Œ ê°œìš”

ì˜ë‹¨ì–´ í•™ìŠµìš© AI ì´ë¯¸ì§€ ìƒì„± íŒŒì´í”„ë¼ì¸. GPT-4oë¡œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒì„±í•˜ê³ , Flux-2-Kleinìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

## ğŸ”„ v3 â†’ v4 ë³€ê²½ì‚¬í•­

| í•­ëª© | v3 | v4 |
|------|----|----|
| **í•´ìƒë„** | 768Ã—1344 (9:16) | **1024Ã—1024 (1:1)** |
| **ì‹œë‚˜ë¦¬ì˜¤ LLM** | gpt-4o-mini | **gpt-4o** |
| **ì´ë¯¸ì§€ ëª¨ë¸** | Flux-2-Klein-4B | Flux-2-Klein-4B (ë™ì¼) |

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±**: OpenAI GPT-4o
- **ì´ë¯¸ì§€ ìƒì„±**: ComfyUI + Flux-2-Klein-4B
- **ìŠ¤í† ë¦¬ì§€**: Cloudflare R2
- **ë©”íƒ€ë°ì´í„°**: Cloudflare KV

## ğŸ“‹ íŒŒì´í”„ë¼ì¸ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± (GPT-4o)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  Input: ë‹¨ì–´, ì˜ì–´ ëœ», í•œêµ­ì–´ ëœ»                              â”‚
â”‚  Output: 10ê°œ ì‹œë‚˜ë¦¬ì˜¤ (scenario + setting)                   â”‚
â”‚                                                              â”‚
â”‚  ì˜ˆ) "Replenish" â†’                                           â”‚
â”‚      1. [Restaurant] ì›¨ì´í„°ê°€ ë¬¼ì»µì„ ë‹¤ì‹œ ì±„ìš°ëŠ” ì¥ë©´          â”‚
â”‚      2. [Forest] ë“±ì‚°ê°ì´ ê³„ê³¡ë¬¼ë¡œ ë¬¼ë³‘ì„ ì±„ìš°ëŠ” ì¥ë©´          â”‚
â”‚      ...                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ìƒì„± (GPT-4o)                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  Input: ì‹œë‚˜ë¦¬ì˜¤ + ì•„íŠ¸ ìŠ¤íƒ€ì¼                                â”‚
â”‚  Output: ìƒì„¸ ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸                                 â”‚
â”‚                                                              â”‚
â”‚  ìŠ¤íƒ€ì¼ ì ìš©: ì§€ë¸Œë¦¬, íŒŒìŠ¤í…”, íŒì•„íŠ¸, ì»¨ì…‰ì•„íŠ¸, ë¯¸ë‹ˆë©€...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: ì´ë¯¸ì§€ ìƒì„± (ComfyUI + Flux)                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  Model: flux-2-klein-4b.safetensors                          â”‚
â”‚  CLIP: qwen_3_4b.safetensors                                 â”‚
â”‚  VAE: flux2-vae.safetensors                                  â”‚
â”‚  Steps: 4, CFG: 1                                            â”‚
â”‚  Resolution: 1024Ã—1024                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: ì—…ë¡œë“œ                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  R2: ì´ë¯¸ì§€ íŒŒì¼ (v3/{word}/{word}-{ë²ˆí˜¸}-{ìŠ¤íƒ€ì¼}.png)       â”‚
â”‚  KV: ë©”íƒ€ë°ì´í„° JSON (vocab:{word})                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ 10ê°€ì§€ ì•„íŠ¸ ìŠ¤íƒ€ì¼

| ID | í•œêµ­ì–´ | í”„ë¡¬í”„íŠ¸ |
|----|--------|----------|
| pastel | íŒŒìŠ¤í…” | soft pastel colors, gentle gradients, dreamy atmosphere |
| anime | ì• ë‹ˆë©”ì´ì…˜ | anime style, vibrant colors, detailed linework |
| ghibli | ì§€ë¸Œë¦¬ | Studio Ghibli style, soft watercolor textures |
| disney | ë””ì¦ˆë‹ˆ/í”½ì‚¬ | Disney Pixar 3D animation style, expressive characters |
| comic | ë§Œí™” | comic book style, bold outlines, dynamic composition |
| watercolor | ìˆ˜ì±„í™” | watercolor painting, soft edges, artistic brush strokes |
| minimalist | ë¯¸ë‹ˆë©€ | minimalist illustration, simple geometric shapes |
| pixel_art | í”½ì…€ì•„íŠ¸ | pixel art style, 16-bit retro game aesthetic |
| pop_art | íŒì•„íŠ¸ | pop art style, bold colors, Ben-Day dots |
| concept_art | ì»¨ì…‰ì•„íŠ¸ | concept art style, digital painting, cinematic |

## ğŸ“ ì¶œë ¥ êµ¬ì¡°

```
word-shorts-output/
â”œâ”€â”€ images/v3/
â”‚   â”œâ”€â”€ replenish/
â”‚   â”‚   â”œâ”€â”€ replenish-01-ghibli.png
â”‚   â”‚   â”œâ”€â”€ replenish-02-pastel.png
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ {word}/
â”‚       â””â”€â”€ {word}-{ë²ˆí˜¸}-{ìŠ¤íƒ€ì¼}.png
â””â”€â”€ metadata/v3/
    â”œâ”€â”€ replenish.json
    â””â”€â”€ {word}.json
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

```bash
cd /home/filadmin/word-shorts-app

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export OPENAI_API_KEY="your-key"

# ë‹¨ì¼ ë‹¨ì–´ ìƒì„±
WORDS="Replenish" python3 -u scripts/generate-vocab-v3.py

# ì—¬ëŸ¬ ë‹¨ì–´ ìƒì„±
WORDS="Replenish,Instigate,Deliberate" python3 -u scripts/generate-vocab-v3.py
```

## â˜ï¸ Cloudflare ì—…ë¡œë“œ

```bash
# R2 ì´ë¯¸ì§€ ì—…ë¡œë“œ
for img in images/v3/{word}/*.png; do
  wrangler r2 object put "word-shorts-images/v3/{word}/$(basename $img)" \
    --file="$img" --content-type="image/png" --remote
done

# KV ë©”íƒ€ë°ì´í„° ì—…ë¡œë“œ
wrangler kv key put --namespace-id="..." "vocab:{word}" \
  "$(cat metadata/v3/{word}.json)" --remote
```

## ğŸ“Š ë¹„ìš© ì¶”ì •

| í•­ëª© | ë‹¨ê°€ | ë‹¨ì–´ë‹¹ |
|------|------|--------|
| GPT-4o (ì‹œë‚˜ë¦¬ì˜¤) | ~$0.03/1K tokens | ~$0.05 |
| GPT-4o (í”„ë¡¬í”„íŠ¸ Ã—10) | ~$0.03/1K tokens | ~$0.05 |
| Flux ì´ë¯¸ì§€ (Ã—10) | ì „ê¸°ì„¸ | ~$0.01 |
| **í•©ê³„** | | **~$0.11/ë‹¨ì–´** |

10ë‹¨ì–´ = ~$1.10, 100ë‹¨ì–´ = ~$11

## ğŸ“ ë©”íƒ€ë°ì´í„° êµ¬ì¡°

```json
{
  "word": "Replenish",
  "slug": "replenish",
  "meaning_en": "to fill or supply again",
  "meaning_kr": "ë³´ì¶©í•˜ë‹¤, ë‹¤ì‹œ ì±„ìš°ë‹¤",
  "version": "v3",
  "resolution": "1024x1024",
  "scenarios_generated": [...],
  "images": [
    {
      "variation": 1,
      "scenario": "A waiter refills...",
      "setting": "Restaurant",
      "style_id": "ghibli",
      "style_name": "ì§€ë¸Œë¦¬",
      "prompt": "...",
      "seed": 4446353889150867,
      "path": "..."
    },
    ...
  ],
  "model": "flux-2-klein-4b",
  "createdAt": "2026-02-26T12:32:13Z"
}
```

---

*Last Updated: 2026-02-26*
