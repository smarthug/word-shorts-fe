# Word Shorts 2.0 - ë± ì‹œìŠ¤í…œ PRD

> **ë¸Œëœì¹˜**: `feature/v2-deck-system`
> **ì‹œì‘ì¼**: 2026-03-01

---

## ğŸ“‹ ê°œìš”

Gitì˜ staging/commit ì»¨ì…‰ì„ ì°¨ìš©í•œ ë‹¨ì–´ ì•”ê¸° ë‹¨ê³„ ê´€ë¦¬ ì‹œìŠ¤í…œ

---

## ğŸ¯ í•µì‹¬ ê°œë…

### ë± (Deck) êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ë± (Deck)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ ì›ë³¸ ë°°ì—´ (immutable)                               â”‚
â”‚     â””â”€â”€ ì˜ë‹¨ì–´ ì›ë³¸ ë°ì´í„°, ì ˆëŒ€ ìˆ˜ì • ì•ˆ ë¨              â”‚
â”‚                                                         â”‚
â”‚  ğŸ“‹ ë¯¸ì•”ê¸° ë°°ì—´                                         â”‚
â”‚     â””â”€â”€ ì´ˆê¸°ì— ì›ë³¸ í´ë¡ , ì•”ê¸° ì‹œì‘ ì „ ë‹¨ì–´ë“¤            â”‚
â”‚                                                         â”‚
â”‚  ğŸ”„ ì•”ê¸° ì¤‘ ë°°ì—´                                        â”‚
â”‚     â””â”€â”€ í˜„ì¬ í•™ìŠµ ì¤‘ì¸ ë‹¨ì–´ë“¤                           â”‚
â”‚                                                         â”‚
â”‚  âœ… ì•”ê¸° ì™„ë£Œ ë°°ì—´                                      â”‚
â”‚     â””â”€â”€ ì™„ì „íˆ ì•”ê¸°í•œ ë‹¨ì–´ë“¤                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë‹¨ì–´ ì´ë™ íë¦„

```
ë¯¸ì•”ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ì•”ê¸° ì¤‘
   â”‚                                          â”‚
   â”‚                                          â”‚
   â”‚                                          â–¼
   â”‚                                      ì•”ê¸° ì™„ë£Œ
   â”‚                                          â”‚
   â”‚          â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚          (ë‹¤ì‹œ í•™ìŠµ í•„ìš”ì‹œ)
   â–¼
[Git ë¹„ìœ : Working Dir â†’ Staging â†’ Committed]
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ìƒíƒœ ê´€ë¦¬
- **Zustand**: ì „ì—­ ìƒíƒœ (í˜„ì¬ ì„ íƒëœ ë±, ì•”ê¸° ë‹¨ê³„)

### ë¡œì»¬ ì €ì¥ì†Œ
- **IndexedDB**: ë± ë°ì´í„° ì˜êµ¬ ì €ì¥
- **Wrapper í›„ë³´**:
  - `Dexie.js` - ì¸ê¸°, ë¬¸ì„œ í’ë¶€
  - `idb` - ê²½ëŸ‰, Promise ê¸°ë°˜

### UI
- **Virtualized List**: ëŒ€ìš©ëŸ‰ ë‹¨ì–´ ëª©ë¡ (react-virtualized ë˜ëŠ” @tanstack/react-virtual)
- **MUI**: ê¸°ì¡´ ìœ ì§€

---

## ğŸ“± í˜ì´ì§€ êµ¬ì¡°

### 1. AppBar (ê³µí†µ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†]     ğŸ“š ê¸°ì´ˆì˜ë‹¨ì–´ | ë¯¸ì•”ê¸° (120/500)        [Â·Â·Â·]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†‘ í˜„ì¬ ë±ëª…     â†‘ í˜„ì¬ ë‹¨ê³„ (ì§„í–‰ë¥ )
```

### 2. ë± ë·° í˜ì´ì§€ (`/deck`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë± ì„ íƒ                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ê¸°ì´ˆì˜ë‹¨ì–´   â”‚  â”‚ í† ìµí•„ìˆ˜    â”‚  â”‚ ë¹„ì¦ˆë‹ˆìŠ¤    â”‚     â”‚
â”‚  â”‚ 500 words   â”‚  â”‚ 1000 words  â”‚  â”‚ 300 words   â”‚     â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 45%  â”‚  â”‚ â–ˆâ–ˆâ–‘â–‘â–‘â–‘ 20%  â”‚  â”‚ â–ˆâ–‘â–‘â–‘â–‘â–‘ 10%  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì•”ê¸° ë‹¨ê³„ ì„ íƒ                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ ë¯¸ì•”ê¸°  â”‚  â”‚ ì•”ê¸°ì¤‘  â”‚  â”‚ ì™„ë£Œ   â”‚                    â”‚
â”‚  â”‚ 120    â”‚  â”‚ 80     â”‚  â”‚ 300    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì¹´ë“œë·°] [í…Œì´ë¸”ë·°]                    [ì‡¼ì¸  ì‹œì‘ â†’]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. í…Œì´ë¸” ë·° í˜ì´ì§€ (`/table`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ë¯¸ì•”ê¸°    â”‚  â”‚ ì•”ê¸° ì¤‘   â”‚  â”‚ ì•”ê¸° ì™„ë£Œ â”‚  â† í´ë¦­ì‹œ   â”‚
â”‚  â”‚ 120/500  â”‚  â”‚ 80/500   â”‚  â”‚ 300/500  â”‚    í•„í„°ë§    â”‚
â”‚  â”‚   24%    â”‚  â”‚   16%    â”‚  â”‚   60%    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [  ] 3 selected                    [More Actions â–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [  ] â”‚ â—€ â”‚ abandon    â”‚ ë²„ë¦¬ë‹¤      â”‚ â–¶ â”‚             â”‚
â”‚  [âœ“] â”‚ â—€ â”‚ ability    â”‚ ëŠ¥ë ¥        â”‚ â–¶ â”‚             â”‚
â”‚  [âœ“] â”‚ â—€ â”‚ abolish    â”‚ íì§€í•˜ë‹¤    â”‚ â–¶ â”‚             â”‚
â”‚  [  ] â”‚ â—€ â”‚ abroad     â”‚ í•´ì™¸ì—      â”‚ â–¶ â”‚             â”‚
â”‚  ...                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘      â†‘                              â†‘
  ì²´í¬ë°•ìŠ¤  ì´ì „ ë‹¨ê³„ë¡œ              ë‹¤ìŒ ë‹¨ê³„ë¡œ
```

### 4. ì‡¼ì¸  ë·° í˜ì´ì§€ (`/shorts`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚                    [ì´ë¯¸ì§€]                             â”‚
â”‚                                                         â”‚
â”‚                   "abandon"                             â”‚
â”‚                   ë²„ë¦¬ë‹¤                                â”‚
â”‚                                                         â”‚
â”‚     [ğŸ”Š]    [ğŸ‘ï¸]    [ğŸ“–]    [âœ… ì•”ê¸°]                  â”‚
â”‚                                   â†‘                     â”‚
â”‚                        ë¯¸ì•”ê¸°â†’ì•”ê¸°ì¤‘ / ì•”ê¸°ì¤‘â†’ì™„ë£Œ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### TypeScript íƒ€ì…

```typescript
// ë‹¨ì–´ íƒ€ì…
interface Word {
  id: string;
  word: string;        // ì˜ë‹¨ì–´
  meaning_kr: string;  // í•œêµ­ì–´ ëœ»
  meaning_en: string;  // ì˜ì–´ ëœ»
  slug: string;        // URLìš©
}

// ì•”ê¸° ë‹¨ê³„
type MemorizationStage = 'unlearned' | 'learning' | 'mastered';

// ë± íƒ€ì…
interface Deck {
  id: string;
  name: string;              // ë± ì´ë¦„
  description?: string;      // ì„¤ëª…
  words: Word[];             // ì›ë³¸ ë‹¨ì–´ ë°°ì—´ (immutable)
  unlearned: string[];       // ë¯¸ì•”ê¸° ë‹¨ì–´ ID ë°°ì—´
  learning: string[];        // ì•”ê¸° ì¤‘ ë‹¨ì–´ ID ë°°ì—´
  mastered: string[];        // ì•”ê¸° ì™„ë£Œ ë‹¨ì–´ ID ë°°ì—´
  createdAt: number;
  updatedAt: number;
}

// Zustand ìŠ¤í† ì–´
interface DeckStore {
  // í˜„ì¬ ìƒíƒœ
  currentDeckId: string | null;
  currentStage: MemorizationStage;
  
  // ë± ê´€ë¦¬
  decks: Deck[];
  loadDecks: () => Promise<void>;
  selectDeck: (deckId: string) => void;
  selectStage: (stage: MemorizationStage) => void;
  
  // ë‹¨ì–´ ì´ë™
  moveWord: (wordId: string, from: MemorizationStage, to: MemorizationStage) => void;
  moveWords: (wordIds: string[], from: MemorizationStage, to: MemorizationStage) => void;
  
  // í†µê³„
  getStats: (deckId: string) => {
    total: number;
    unlearned: number;
    learning: number;
    mastered: number;
  };
}
```

### IndexedDB ìŠ¤í‚¤ë§ˆ (Dexie)

```typescript
// db.ts
import Dexie from 'dexie';

class WordShortsDB extends Dexie {
  decks!: Table<Deck, string>;
  
  constructor() {
    super('WordShortsDB');
    this.version(1).stores({
      decks: 'id, name, createdAt, updatedAt'
    });
  }
}

export const db = new WordShortsDB();
```

---

## ğŸ“ ê°œë°œ íƒœìŠ¤í¬

### Phase 1: ê¸°ë°˜ ì‘ì—…

- [ ] IndexedDB ì„¤ì • (Dexie)
- [ ] Deck íƒ€ì… ì •ì˜
- [ ] Zustand ìŠ¤í† ì–´ ë¦¬íŒ©í† ë§
- [ ] ê¸°ë³¸ ë± ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (ê¸°ì¡´ 124ê°œ ë‹¨ì–´)

### Phase 2: ë± ë·° í˜ì´ì§€

- [ ] ë± ì„ íƒ UI
- [ ] ì•”ê¸° ë‹¨ê³„ ì„ íƒ UI
- [ ] ì§„í–‰ë¥  í‘œì‹œ (í¼ì„¼íŠ¸, ë¶„ìˆ˜)
- [ ] ì¹´ë“œë·°/í…Œì´ë¸”ë·° í† ê¸€

### Phase 3: í…Œì´ë¸” ë·° í˜ì´ì§€

- [ ] Virtualized í…Œì´ë¸” êµ¬í˜„
- [ ] ì²´í¬ë°•ìŠ¤ ë‹¤ì¤‘ ì„ íƒ
- [ ] ì¢Œìš° í™”ì‚´í‘œ ì´ë™ ë²„íŠ¼
- [ ] ìƒë‹¨ ë‹¨ê³„ë³„ ì¹´ë“œ
- [ ] More Actions ë©”ë‰´
- [ ] ì¹´ë“œë·° ì „í™˜ (ìŠ¤ì™€ì´í”„)

### Phase 4: ì‡¼ì¸  ë·° ì—…ë°ì´íŠ¸

- [ ] ì•”ê¸° ë²„íŠ¼ ì¶”ê°€
- [ ] í˜„ì¬ ë‹¨ê³„ ë°°ì—´ë§Œ í‘œì‹œ
- [ ] ë‹¨ê³„ ì´ë™ ê¸°ëŠ¥

### Phase 5: AppBar ì—…ë°ì´íŠ¸

- [ ] í˜„ì¬ ë±/ë‹¨ê³„ í‘œì‹œ
- [ ] ì§„í–‰ë¥  í‘œì‹œ

---

## ğŸ¤” ë…¼ì˜ í•„ìš” ì‚¬í•­

### 1. IndexedDB Wrapper ì„ íƒ

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì¥ì  | ë‹¨ì  |
|-----------|------|------|
| **Dexie.js** | ë¬¸ì„œ í’ë¶€, ì»¤ë®¤ë‹ˆí‹° í¼, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì§€ì› | ë²ˆë“¤ í¬ê¸° (29KB) |
| **idb** | ê²½ëŸ‰ (1.4KB), Google ê°œë°œ | ê¸°ëŠ¥ ì œí•œì  |

**ì¶”ì²œ**: Dexie.js (ë³µì¡í•œ ì¿¼ë¦¬, ë§ˆì´ê·¸ë ˆì´ì…˜ ì§€ì›)

### 2. Virtualization ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì¥ì  | ë‹¨ì  |
|-----------|------|------|
| **@tanstack/react-virtual** | ìµœì‹ , ê²½ëŸ‰, ìœ ì—° | |
| **react-virtualized** | ì„±ìˆ™, ê¸°ëŠ¥ í’ë¶€ | ì˜¤ë˜ë¨ |
| **react-window** | react-virtualized ê²½ëŸ‰ë²„ì „ | |

**ì¶”ì²œ**: @tanstack/react-virtual

### 3. ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜

- í˜„ì¬ 124ê°œ ë‹¨ì–´ â†’ ì²« ë²ˆì§¸ ë±ìœ¼ë¡œ ë³€í™˜
- APIì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ ìœ ì§€? vs ë¡œì»¬ ìš°ì„ ?

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. ì´ ë¬¸ì„œ ê²€í†  ë° í”¼ë“œë°±
2. ê¸°ìˆ  ì„ íƒ í™•ì • (Dexie? @tanstack/react-virtual?)
3. Phase 1 ì‹œì‘

---

*ì‘ì„±ì¼: 2026-03-01*
